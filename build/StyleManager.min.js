(function(e,t){typeof define=="function"&&define.amd?define(t):e.StyleManager=t()})(this,function(){var e=function(e){return e.join("\n")},t=function(t,n){var r=[];return r.push("/* Source: "+t+" */"),r.push(n),e(r)},n=function(e){var t,n;document.createStyleSheet?t=document.createStyleSheet():(t=document.createElement("style"),n=document.getElementsByTagName("head")[0],n.appendChild(t)),this.el=t,this.name(e),this.stylesheets={},this.changed=[]};return n.prototype.name=function(e){if(!e)return this.el.id||!1;this.el.id=e},n.prototype.register=function(e,n){return n=t(e,n),this.changed.push(e),this.stylesheets[e]&&!this.el.cssText&&this.el.removeChild(this.stylesheets[e].node),this.stylesheets[e]={source:n,node:document.createTextNode(n)},this.render(),this},n.prototype.clean=function(){var e;while(this.el.firstChild)e=this.el.firstChild,this.el.removeChild(e)},n.prototype.render=function(){if(this.el.cssText!==undefined)return this.renderIE();while(this.changed.length>0){var e=this.changed.length-1,t=this.stylesheets[this.changed[e]];this.el.appendChild(t.node),this.changed.splice(e,1)}return this},n.prototype.renderIE=function(){var t=[],n;for(n in this.stylesheets)t.push(this.stylesheets[n].source);t=e(t),this.clean(),this.el.cssText=t},n});